local map = MapDef(
    7289,
    "0905131019",
    "213F654D5B59435945507C7C2F21374F794D62314B2825326226726D704472475D5C792D253235682532355850646F37417A693A7066753135755E346B2C5A334A617D76606531743D4C6923413E74304D46673F47212F396D6D6A267B4B5678297A5D5F3B577A346A7829782025326227765F7C3D4E713A5D455A3D6C37345A2C6D5F353F2D626F31445054662D482C75375B3F5F4A6B6B",
    "HhaaeaaaaaGhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhd0eaaaaaHhd0eaaaaaHhaaeaaaaaHhd0eaaaaaHhaaeaaaC5HhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaaaaHhGaeaaaaaGhaaeaaadUHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhJ0eaaaaaHht0eqgaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaaeAGhaaeaaadUHhGaeaaaaaHhGaeaaaaaHhJ0eaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaC5HhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaaaaGhaaeaaadUHhGaeaaaaaHhJ0eaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaeBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhaaeaaaeBHhaaeaaaaaGhaaeaaaaaHhGaeaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhJZeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaaaaHhaaeaaaeBHhaaeaaaaaHhaaeaaaeAGhaaeaaaeFHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaaaaGhaaeaaaaaHhaaeaaaCJHhaaeaaaaaGhaaeaaaaaHhGaeaaaeFHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaaaaGhaaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaaaaHhaaeaaadPHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaeAHhGaeaaaaaHhGaeaaaaaGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaHhaaeaaaaaGhaaeaaaaaHhiaeaadPGHhGaeiFaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhcJeaaadyHhGaeaaaaaGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaHhaaeaaaaaGhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaeAGhaaeaaadUGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaHhGaeaaaeBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhJ0eaaaaaHhaaeaaadRGhaaeaaaaaGhaaeaaaCKGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaadyGhaaeaaaaaGhdYeaaaaaGhaaeaaaaaGhaaeaaaaaHhl1eaadPFHhGaeiFaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaadRGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaHhd1eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeiFaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeiFaaaHhGaeaaaaaHhaaeaaadOGhaaeaaaaaGhaaeaaaCMGhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhIJeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeCFaaaHhGaeaaaaaHhGaeaaaaaHhGaecFaaaHhd0eaaadyHhqaeaaaoiGhaaeaaaaaGhaaeaaaaaHhd1eaaaeAHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaCSHhaaeaaaaaGhaaeaaaaaHhJYeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaadyHhGaeaaadmGhaaeaaaaaHhl1eaadPEHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhJ1eaaaaaHhaaeaaaCYGhdYeaaaaaGhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhIJeaaaaaHhJ0eaaaaaHhIJeiFaaaGhiaeaad1pHhJ1eaaaeBHhaaeaaaaaHhGaeaaaaaHhGaeiFaaaHhGaeaaaaaHhaaeaaaCSGhaaeCEaaaGhaaeaaaCOGhaaeaaaaaHhGaeCDaaaHhaaeaaaCSHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaCSHhaaeaaaCSGhaaeaaaaaGhaaeaaaaaGhaaeaaaaaHhd1eaaaCVHhd1eaaaCSHhGaecFaaaHhGaeaaaaaHhGaeaaaaaHhJ1eaaaaaHhaaeaaaaaHhJ0eaaaaaHhd1eaaaaaHhd1eiFaCRHhaaeaaaaaGhaaeaaaDUGhaaeaaaaaGhaaeaaaaaHhGaeaaaaaHhd1eaaaaaHhcJeaaaCSHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhd1eaaaaaHhqaeqgaaaHhaaeaaaCSHhaaeaaaCUHhaaeaaaCWHhGaeaaaaaHhGaeaaaaaGhaaeCGaaaHhGaeaaaaaHhaaeaaaCTHhdYeaaaCQHhJ1ecFaaaHhIJeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhGaeaaaaaHhJ1ecFaaaHhGaecFaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaCSHhGaecFaaaHhGaeaaaaaHhGaem0am0HhaaeaaaCQHhGaem0aaaHhGaeaaaaaHhGaeaaaeAHhaaeaaaaaHhJ0eaaaaaHhJ1eaaaaaHhGaeaaaaaHhGaeCzaaaHhGaeaaaaaHhGaeaaaaaHhGaecFaaaHhd1ecFaaaHhGaeaaaaaHhGaeCAam0HhGaeaaaaaHhIJeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhJYeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaCUHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhJ0eaaaaaHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeCzaaaHhGaeaaaaaHhGaeaaaeAHhJ0eaaaaaHhJ0eaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeCAaaaHhGaeaaaaaHhGaeaaaaaHhqaeaaaaaHhd0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhIJeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhIJeaaaaaHhGaeiFaaaHhcKeaaaaaHhGaeaaaaaHhGaeCzaaaHhGaeaaaaaHhGaeaaaaaHhGaecFaaaHhGaeaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeCAaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaecFaaaHhJ0eaaaaaHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhGaeCzaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhJYeCAaaaHhqaeaaaqgHhaaeCBaaaHhGaeaaaaaHhJYeaaaeBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhqaeqgaaaHhGaeaaaaaHhGaeaaaeBHhJ0eaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeCAaaaHhd0eaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhcJeaaaaaHhaaeaaaaaHhaaeaaaaaHhdYeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhd0eaaaaa",
    15,
    17,
    3,
    -21,
    95
)

map.positions = "cgcucvcIcJcWcXc_|fkfyfzfMfNf0f1gd"
map.capabilities = 34
map.npcs = {
	[504] = {400, 1},
	[554] = {295, 3}
}

map.allowedMobGrades = {
	{98, 1},
	{98, 2},
	{98, 3},
	{98, 4},
	{98, 5},
	{52, 1},
	{52, 2},
	{52, 3},
	{52, 4},
	{52, 5},
	{101, 1},
	{101, 2},
	{101, 3},
	{101, 4},
	{101, 5},
	{134, 1},
	{134, 2},
	{134, 3},
	{134, 4},
	{134, 5},
	{149, 1},
	{149, 2},
	{149, 3},
	{149, 4},
	{149, 5}
}

local function tryEntering(_, _, p)
    if p:breed() == 4 then
        p:teleport(7580, 351)
    else
        --TODO: send error (in chat)
    end
end	

map.onMovementEnd = {
    [23] = moveEndTeleport(7392,443),
	[434] = moveEndTeleport(7409,349),
	[455] = moveEndTeleport(7394,21),
	[305] = moveEndTeleport(7377,390),
	[229] = tryEntering
}

RegisterMapDef(map)
